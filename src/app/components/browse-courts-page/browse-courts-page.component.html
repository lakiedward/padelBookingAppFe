<div class="page page-gradient-bg bg-admin-like">
  <header class="header">

    <div class="container header__inner">
      <div class="brand">
        <div class="logo-mark">
          <svg class="logo-svg" fill="none" viewBox="0 0 32 32" aria-hidden="true">
            <g>
              <circle cx="16" cy="16" r="12" fill="#a7ee43"></circle>
              <path d="M10 18c3 3 9 3 12-3" stroke="black" stroke-width="2" fill="none" stroke-linecap="round"></path>
              <circle cx="20" cy="12" r="2" fill="black"></circle>
            </g>
          </svg>
        </div>
        <div class="brand__text">
          <div class="brand__title">PLAYORA</div>
          <div class="brand__subtitle">Sports Club Management Platform</div>
        </div>
      </div>

      <nav class="nav nav--desktop">
        <a class="nav__link nav__link--active" href="javascript:void(0)">Courts</a>
        <a class="nav__link" href="javascript:void(0)">Calendar</a>
        <a class="nav__link nav__link--muted" href="javascript:void(0)">About</a>
        <a class="nav__link nav__link--muted" href="javascript:void(0)">Contact</a>
      </nav>

      <div class="actions actions--desktop">
        <span class="user-mail">user@playora.com</span>
        <button class="btn" (click)="logout()">Logout</button>
      </div>

      <button class="btn-icon nav-toggle" aria-label="Toggle menu" (click)="toggleMobile()">
        <svg *ngIf="!mobileOpen" viewBox="0 0 24 24" class="icon" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
          <path d="M4 6H20M4 12H20M4 18H20" />
        </svg>
        <svg *ngIf="mobileOpen" viewBox="0 0 24 24" class="icon" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
          <path d="M6 6L18 18M6 18L18 6" />
        </svg>
      </button>
    </div>

    <div *ngIf="mobileOpen" class="drawer">
      <div class="drawer__inner">
        <a class="drawer__link drawer__link--active">Courts</a>
        <a class="drawer__link">Calendar</a>
        <a class="drawer__link drawer__link--muted">About</a>
        <a class="drawer__link drawer__link--muted">Contact</a>
        <div class="divider"></div>
        <div class="drawer__mail">user@playora.com</div>
        <button class="btn btn--block" (click)="logout()">Logout</button>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="glow glow--hero-a"></div>
    <div class="glow glow--hero-b"></div>
    <div class="glow glow--hero-c"></div>

    <div class="container hero__inner">
      <div class="hero__head">
        <h1 class="hero__title">
          <span class="muted">Find Your Perfect </span><span class="accent">Court</span>
        </h1>
        <p class="hero__subtitle">Discover and book premium sports courts at top facilities.</p>
      </div>

      <div class="filters">
        <div class="filters__row">
          <div class="pills">
            <button class="pill" [class.pill--active]="sportFilter==='tennis'" (click)="selectSport('tennis')">üéæ Tennis</button>
            <button class="pill" [class.pill--active]="sportFilter==='football'" (click)="selectSport('football')">‚öΩ Football</button>
            <button class="pill" [class.pill--active]="sportFilter==='basketball'" (click)="selectSport('basketball')">üèÄ Basketball</button>
            <button class="pill" [class.pill--active]="sportFilter==='padel'" (click)="selectSport('padel')">üèì Padel</button>
            <button class="pill" [class.pill--active]="sportFilter==='all'" (click)="selectSport('all')">All Sports</button>
            <button
              class="pill pill--more"
              (click)="toggleMoreSports($event)"
            >
              +4 more
            </button>
            <div class="sep"></div>
            <button class="pill" [class.pill--active]="venueFilter==='all'" (click)="venueFilter='all'">All Types</button>
            <button class="pill" [class.pill--active]="venueFilter==='indoor'" (click)="venueFilter='indoor'">üè¢ Indoor</button>
            <button class="pill" [class.pill--active]="venueFilter==='outdoor'" (click)="venueFilter='outdoor'">üå§Ô∏è Outdoor</button>
          </div>
          <!-- Extra sports should appear directly under main sports on mobile -->
          <div class="more-inline" *ngIf="moreSportsOpen">
            <button class="pill" *ngFor="let s of additionalSports" [class.pill--active]="sportFilter===s.key" (click)="selectSport(s.key)">{{ s.label }}</button>
            <button class="pill" (click)="selectSport('all')">Show all</button>
          </div>

          <div class="sort">
            <span class="sort__label">Sort by</span>
            <div class="sort__select-wrapper">
              <select class="sort__select" [(ngModel)]="sortBy">
                <option *ngFor="let opt of sortOptions" [value]="opt.value">{{ opt.label }}</option>
              </select>
              <span aria-hidden="true" class="sort__caret">‚ñæ</span>
            </div>
          </div>
        </div>

        <div class="filters__row2">
          <div class="field">
            <div class="label">Date</div>
            <div class="field__controls field__controls--date">
              <button class="btn btn--accent" (click)="setToday()">Today</button>
              <p-datepicker
                [(ngModel)]="selectedDate"
                inputId="date"
                showIcon="true"
                [iconDisplay]="isTouch ? 'button' : 'input'"
                [showButtonBar]="true"
                [touchUI]="isTouch"
                [readonlyInput]="isTouch"
                [appendTo]="isTouch ? null : 'body'"
                [hideOnDateTimeSelect]="!isTouch"
                [focusTrap]="isTouch"
                styleClass="pbp-datepicker"
                panelStyleClass="pbp-datepicker-panel"
              ></p-datepicker>
            </div>
          </div>
          <div class="field">
            <div class="label">Time</div>
            <div class="field__controls field__controls--time">
              <!-- HH:MM masked inputs everywhere (mobile + desktop) -->
              <div class="time-input-wrapper">
                <svg class="time-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <circle cx="12" cy="12" r="10" />
                  <path d="M12 6v6l4 2" />
                </svg>
                <input
                  pInputMask
                  mask="99:99"
                  slotChar="HH:MM"
                  inputmode="numeric"
                  class="input time-mask"
                  placeholder="From"
                  [(ngModel)]="timeFromStr"
                  (onComplete)="onTimeMaskComplete('from')"
                />
                <p-datepicker
                  #fromPicker
                  [(ngModel)]="timeFrom"
                  [timeOnly]="true"
                  hourFormat="24"
                  showIcon="true"
                  [iconDisplay]="'button'"
                  [touchUI]="false"
                  [readonlyInput]="true"
                  [appendTo]="'body'"
                  [hideOnDateTimeSelect]="true"
                  [showButtonBar]="true"
                  styleClass="pbp-datepicker pbp-time-trigger"
                  panelStyleClass="pbp-datepicker-panel"
                  (ngModelChange)="onTimePickerChange($event, 'from')"
                  (onSelect)="onTimeSelect($event, 'from')"
                  (onHide)="onTimePickerHide('from')"
                ></p-datepicker>
              </div>
              <div class="time-input-wrapper">
                <svg class="time-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <circle cx="12" cy="12" r="10" />
                  <path d="M12 6v6l4 2" />
                </svg>
                <input
                  pInputMask
                  mask="99:99"
                  slotChar="HH:MM"
                  inputmode="numeric"
                  class="input time-mask"
                  placeholder="To"
                  [(ngModel)]="timeToStr"
                  (onComplete)="onTimeMaskComplete('to')"
                />
                <p-datepicker
                  #toPicker
                  [(ngModel)]="timeTo"
                  [timeOnly]="true"
                  hourFormat="24"
                  showIcon="true"
                  [iconDisplay]="'button'"
                  [touchUI]="false"
                  [readonlyInput]="true"
                  [appendTo]="'body'"
                  [hideOnDateTimeSelect]="true"
                  [showButtonBar]="true"
                  styleClass="pbp-datepicker pbp-time-trigger"
                  panelStyleClass="pbp-datepicker-panel"
                  (ngModelChange)="onTimePickerChange($event, 'to')"
                  (onSelect)="onTimeSelect($event, 'to')"
                  (onHide)="onTimePickerHide('to')"
                ></p-datepicker>
              </div>
              <button class="btn" type="button" (click)="clearTime()">Clear</button>
            </div>
          </div>
          <div class="field">
            <div class="label">City</div>
            <select class="input">
              <option>All cities</option>
              <option>Downtown</option>
              <option>North District</option>
            </select>
          </div>
        </div>
      </div>

      <div class="count">
        <span class="count__num">{{ filtered.length }}</span> courts found
      </div>

      <div class="grid">
        <app-court-listing-card
          *ngFor="let c of filtered; index as i"
          [image]="c.image"
          [emoji]="c.emoji"
          [title]="c.title"
          [club]="c.club"
          [location]="c.location"
          [price]="c.price"
          unit="per hour"
          [tags]="c.tags"
          [availableDate]="c.availableDate || '‚Äî'"
          [slots]="c.slots"
        />
      </div>
    </div>
  </section>
</div>
