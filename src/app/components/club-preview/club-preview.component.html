<div class="club-preview" *ngIf="details as d">
  <div class="hero" [style.background-image]="d.wallpaperImageUrl ? 'url(' + d.wallpaperImageUrl + ')' : 'none'">
    <div class="hero-overlay"></div>
    <div class="hero-actions">
      <button type="button" class="edit-btn" (click)="editRequested.emit()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M12 20h9"></path>
          <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
        </svg>
        Edit Club
      </button>
      <button type="button" class="danger-btn" (click)="deleteRequested.emit()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"></path>
          <path d="M10 11v6"></path>
          <path d="M14 11v6"></path>
          <path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"></path>
        </svg>
        Delete Club
      </button>
    </div>
    <div class="hero-content">
      <div class="logo" *ngIf="d.profileImageUrl">
        <img [src]="d.profileImageUrl" alt="Club logo" />
      </div>
      <div class="titles">
        <h1>{{ d.name }}</h1>
        <div class="meta">
          <span class="sport" *ngFor="let s of d.sports; trackBy: trackByIndex">{{ s | titlecase }}</span>
        </div>
        <div class="location" *ngIf="d.locations && d.locations.length">
          <span>{{ d.locations[0].address }}</span>
        </div>
      </div>
    </div>
  </div>
  <div class="top-divider" role="separator" aria-hidden="true"></div>

  <div class="container">
    <section class="about" *ngIf="d.description">
      <h2>About {{ d.name }}</h2>
      <p>{{ d.description }}</p>
    </section>

    <div class="top-divider" role="separator" aria-hidden="true"></div>
    <section class="contact">
      <h2>Contact Information</h2>
      <div class="grid">
        <div class="contact-item">
          <div class="icon-box" aria-hidden="true">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="5" width="18" height="14" rx="2" ry="2"></rect>
              <path d="M3 7l9 6 9-6"></path>
            </svg>
          </div>
          <div class="content">
            <div class="title">Email Address</div>
            <div class="value">{{ d.email }}</div>
          </div>
        </div>
        <div class="contact-item">
          <div class="icon-box" aria-hidden="true">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.62-3.06 19.5 19.5 0 0 1-6-6A19.86 19.86 0 0 1 2.08 4.1 2 2 0 0 1 4 2h3a2 2 0 0 1 2 1.72c.12.96.34 1.9.66 2.8a2 2 0 0 1-.45 2.11L7.6 9.9a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.9.32 1.84.54 2.8.66A2 2 0 0 1 22 16.92z"></path>
            </svg>
          </div>
          <div class="content">
            <div class="title">Phone Number</div>
            <div class="value">{{ d.phone }}</div>
          </div>
        </div>
        <div class="contact-item" *ngIf="d.locations?.length">
          <div class="icon-box" aria-hidden="true">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 21s-6-5.33-6-10a6 6 0 1 1 12 0c0 4.67-6 10-6 10z"></path>
              <circle cx="12" cy="11" r="2.5"></circle>
            </svg>
          </div>
          <div class="content">
            <div class="title">Location</div>
            <div class="value">
              <div *ngFor="let loc of d.locations; trackBy: trackByIndex">{{ loc.address }}</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="courts">
      <div class="courts-header">
        <h2>Club Courts</h2>
        <div class="controls">
          <div class="hint">Manage courts by sport below</div>
          <button type="button" class="edit-courts-btn" (click)="onEditCourts()">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M12 20h9"></path>
              <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
            </svg>
            Edit Courts
          </button>
        </div>
      </div>
      <div class="filters">
        <button type="button" class="chip" [class.active]="activeCourtFilter() === 'all'" (click)="setCourtFilter('all')">All</button>
        <button type="button" class="chip" *ngFor="let s of d.sports; trackBy: trackByIndex" [class.active]="activeCourtFilter() === s" (click)="setCourtFilter(s)">{{ s | titlecase }}</button>
      </div>
      <ng-container *ngIf="activeCourtFilter() !== 'all'; else allCourts">
        <h3 class="section-sub">{{ activeCourtFilter() | titlecase }}</h3>
        <div class="cards">
          <app-court-card *ngFor="let c of courtsBySport(activeCourtFilter())" [court]="c" (edit)="onEditCourt($event)"></app-court-card>
        </div>
      </ng-container>
      <ng-template #allCourts>
        <ng-container *ngFor="let s of d.sports; trackBy: trackByIndex">
          <ng-container *ngIf="courtsBySport(s).length">
            <h3 class="section-sub">{{ s | titlecase }}</h3>
            <div class="cards">
              <app-court-card *ngFor="let c of courtsBySport(s)" [court]="c" (edit)="onEditCourt($event)"></app-court-card>
            </div>
          </ng-container>
        </ng-container>
      </ng-template>
    </section>
  </div>
</div>
