<div class="login-container">
  <h2 class="login-title">Playora</h2>
  <p class="login-subtitle">Sign up to book your favorite courts</p>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="login-form">
    <div class="form-field">
      <label for="username">Username</label>
      <input pInputText id="username" formControlName="username" placeholder="Enter your username" class="w-full" autocomplete="username" />
      <small class="error-message" *ngIf="registerForm.get('username')?.invalid && (registerForm.get('username')?.touched || registerForm.get('username')?.dirty || submitted)">
        <span *ngIf="registerForm.get('username')?.errors?.['required']">Username is required</span>
        <span *ngIf="registerForm.get('username')?.errors?.['minlength']">At least 3 characters</span>
      </small>
    </div>

    <div class="form-field">
      <label for="email">Email Address</label>
      <input pInputText id="email" formControlName="email" placeholder="Enter your email" class="w-full" autocomplete="email" />
      <small class="error-message" *ngIf="registerForm.get('email')?.invalid && (registerForm.get('email')?.touched || registerForm.get('email')?.dirty || submitted)">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Enter a valid email</span>
      </small>
    </div>

    <div class="form-field">
      <label for="phone">Phone Number</label>
      <input pInputText id="phone" formControlName="phone" placeholder="Enter your phone" class="w-full" autocomplete="tel" />
      <small class="error-message" *ngIf="registerForm.get('phone')?.invalid && (registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty || submitted)">
        <span *ngIf="registerForm.get('phone')?.errors?.['required']">Phone is required</span>
        <span *ngIf="registerForm.get('phone')?.errors?.['pattern']">Enter a valid phone number</span>
      </small>
    </div>

    <div class="form-field">
      <label for="password">Password</label>
      <p-password formControlName="password" placeholder="Enter your password" [toggleMask]="false" [feedback]="false" styleClass="w-full" inputStyleClass="w-full"></p-password>
      <small class="error-message" *ngIf="registerForm.get('password')?.invalid && (registerForm.get('password')?.touched || registerForm.get('password')?.dirty || submitted)">
        <span *ngIf="registerForm.get('password')?.errors?.['required']">Password is required</span>
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']">At least 6 characters</span>
      </small>
    </div>

    <div class="form-actions">
      <p-button type="submit" [label]="loading ? 'Creatingâ€¦' : 'Sign Up'" [disabled]="loading || registerForm.invalid" styleClass="w-full"></p-button>
    </div>

    <div class="divider"><span>Or continue with</span></div>

    <button type="button" class="google-btn" (click)="onGoogleSignUp()" [disabled]="loading">
      <img src="assets/icons/google.png" alt="Google" width="20" height="20" />
      Google
    </button>

    <div class="signup-link">
      <p>Already have an account? <button type="button" class="link" (click)="onSwitchToLogin()">Sign in</button></p>
    </div>
  </form>
</div>


